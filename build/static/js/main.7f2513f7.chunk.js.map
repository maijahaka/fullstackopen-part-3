{"version":3,"sources":["components/Button.js","components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","App.js","index.js"],"names":["Button","handleButtonClick","person","onClick","Person","name","number","Persons","persons","map","PersonForm","props","onSubmit","handleSubmit","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Filter","newFilter","handleChange","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","deleteObject","delete","status","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","notification","setNotification","errorMessage","setErrorMessage","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorMessage","useEffect","initialPersons","console","log","length","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","some","window","confirm","find","p","changedPerson","returnedPerson","setTimeout","catch","error","changeNumber","personObject","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7f2513f7.chunk.js","sourcesContent":["import React from 'react'\n\nconst Button = ({ handleButtonClick, person }) => (\n    <button onClick={() => handleButtonClick(person)}>delete</button>\n)\n\nexport default Button","import React from 'react'\nimport Button from './Button'\n\nconst Person = ({ person, handleButtonClick }) => (\n    <p>\n        { person.name } { person.number } <Button handleButtonClick={handleButtonClick} person={person} />\n    </p>\n)\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ persons , handleButtonClick}) => (\n    <div>\n        {persons.map(person =>\n            <Person \n                key={person.name} \n                person={person}\n                handleButtonClick={handleButtonClick} \n            />\n        )}\n    </div>\n)\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = (props) => (\n    <form onSubmit={props.handleSubmit}>\n        <div>\n            name: <input \n                value={props.newName}\n                onChange={props.handleNameChange}\n            />\n        </div>\n        <div>\n            number: <input \n                value={props.newNumber}\n                onChange={props.handleNumberChange}\n            />\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n    </form>\n)\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = (props) => (\n\n    <div>\n        filter shown with \n        <input \n            value={props.newFilter}\n            onChange={props.handleChange}\n        />\n    </div>\n\n)\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = 'https://obscure-earth-44379.herokuapp.com/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteObject = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.status)\n}\n\nconst personService = { getAll, create, update, deleteObject }\nexport default personService","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\n\nconst App = () => {\n    const [ persons, setPersons ] = useState([])\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n    const [ newFilter, setNewFilter ] = useState('')\n    const [ notification, setNotification ] = useState(null)\n    const [ errorMessage, setErrorMessage ] = useState(null)\n    \n    const Notification = ({ message }) => {\n        const notificationStyle = {\n            color: 'green',\n            background: 'lightgrey',\n            fontSize: 20,\n            borderStyle: 'solid',\n            borderRadius: 5,\n            padding: 10,\n            marginBottom: 10\n        }\n\n        if (message == null) {\n            return null\n        }\n\n        return (\n            <div style={notificationStyle}>\n                {message}\n            </div>\n        )\n    }\n\n    const ErrorMessage = ({ message }) => {\n        const errorMessageStyle = {\n            color: 'red',\n            background: 'lightgrey',\n            fontSize: 20,\n            borderStyle: 'solid',\n            borderRadius: 5,\n            padding: 10,\n            marginBottom: 10\n        }\n\n        if (message == null) {\n            return null\n        }\n\n        return (\n            <div style={errorMessageStyle}>\n                {message}\n            </div>\n        )\n    }\n\n    useEffect(() => {\n        personService\n            .getAll()\n            .then(initialPersons => {\n                setPersons(initialPersons)\n            })\n    }, [])\n    console.log('render', persons.length, 'persons')\n\n    const changeNumber = () => {\n        const person = persons.find(p => p.name === newName)\n        const changedPerson = {...person, number: newNumber}\n\n        personService\n            .update(person.id, changedPerson)\n            .then(returnedPerson => {\n                setPersons(persons.map(p => \n                    p.id !== person.id \n                    ? p\n                    : returnedPerson    \n                ))\n                setNotification(`Changed the number of ${newName} to ${newNumber}`)\n                setTimeout(() => {\n                    setNotification(null)\n                }, 5000)\n            })\n            .catch(error => {\n                setErrorMessage(\n                    `Information of ${newName} has already been removed from server`\n                )\n                setTimeout(() => {\n                    setErrorMessage(null)\n                }, 5000)\n                setPersons(persons.filter(p => p.id !== person.id))\n            })\n    }\n    \n    const addPerson = (event) => {\n        event.preventDefault()\n\n        if (persons.some(person => person.name === newName)) {\n            if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n                changeNumber()\n            }\n        } else {\n            const personObject = {\n                name: newName,\n                number: newNumber\n            }\n\n            personService\n                .create(personObject)\n                .then(returnedPerson => \n                    setPersons(persons.concat(returnedPerson))    \n                )\n            \n            setNotification(`Added ${newName}`)\n            setTimeout(() => {\n                setNotification(null)\n            }, 5000)\n        }\n\n        setNewName('')\n        setNewNumber('')\n    }\n\n    const handleNameChange = (event) => {\n        console.log(event.target.value)\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        console.log(event.target.value)\n        setNewNumber(event.target.value)\n    }\n\n    const handleFilterChange = (event) => {\n        console.log(event.target.value)\n        setNewFilter(event.target.value)\n    }\n\n    const handleButtonClick = (person) => {\n        if (window.confirm(`Delete ${person.name}?`)) {\n            personService\n                .deleteObject(person.id)\n                .then(status => {\n                    if (status === 204) {\n                        setPersons(persons.filter(p => p.id !== person.id))\n                    }\n                })\n            \n            setNotification(`Deleted ${person.name}`)\n            setTimeout(() => {\n                setNotification(null)\n            }, 5000)\n        }\n    }\n\n    const personsToShow = newFilter.length === 0\n        ? persons\n        : persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n\n        \n    return (\n        <div>\n            <h2>Phonebook</h2>\n\n            <Notification message={notification} />\n            <ErrorMessage message={errorMessage} />\n\n            <Filter newFilter={newFilter} handleChange={handleFilterChange} />\n\n            <h2>add a new</h2>\n\n            <PersonForm \n                handleSubmit={addPerson}\n                newName={newName}\n                handleNameChange={handleNameChange}\n                newNumber={newNumber}\n                handleNumberChange={handleNumberChange} \n            />\n\n            <h2>Numbers</h2>\n            \n            <Persons \n                persons={personsToShow}\n                handleButtonClick={handleButtonClick}\n            />\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}